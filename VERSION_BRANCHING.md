## Политика версий и веток (актуально)

### Единая ветка разработки
- Используем только одну активную ветку разработки: `main`.
- Версия 2.x полностью выведена из эксплуатации и более не поддерживается. Историческую ветку/теги можно оставить для архива; отдельную ветку `v2` держать не требуется.

### Текущая основная линия: 3.10
- Текущая мажорно-минорная версия приложения — `3.10`.
- Разработка и релизы ведутся в рамках этой линии, без параллельных веток.

### Модель версионирования (SemVer-схема в рамках 3.10)
Формат версии: `MAJOR.MINOR.PATCH`.

- `MAJOR` — 3. Меняется только при фундаментально несовместимых изменениях платформы. Сейчас фиксирован как 3.
- `MINOR` — 10. Увеличивается при добавлении новых функциональностей, значимых UI/UX изменениях, новых интеграциях (без обязательного нарушения совместимости).
- `PATCH` — увеличивается при исправлениях ошибок, мелких улучшениях, внутренних рефакторингах без влияния на совместимость данных/форматов.

Примеры: `3.10.0`, `3.10.1`, `3.11.0` (при повышении MINOR), `4.0.0` (гипотетический будущий мажор).

### Правила повышения версии
- Повышать `PATCH` при:
  - исправлениях багов;
  - незначительных улучшениях без изменения поведения API/форматов данных;
  - невидимых пользователю refactor-модификациях.
- Повышать `MINOR` при:
  - добавлении заметных функций/экранов/отчётов;
  - добавлении интеграций (например, новые источники импорта), расширениях настроек;
  - изменениях UI/UX, требующих обновления документации, но сохраняющих обратную совместимость данных.
- Повышать `MAJOR` (в перспективе) при:
  - намеренном нарушении обратной совместимости данных/форматов;
  - кардинальной перестройке архитектуры или системных требований.

### Процесс релиза
1. Обновить `CHANGELOG.md` кратким списком изменений.
2. Обновить номер версии в коде (см. ниже).
3. Создать тег `vX.Y.Z` и запушить в origin.

```bash
git checkout main
git pull
# правки, коммиты
git tag -a v3.10.Z -m "Release v3.10.Z"
git push origin main --tags
```

### Где задаётся версия в коде
- Версия возвращается функцией `utils/versioning.py:get_version()` и отображается в заголовке приложения.
- Номер версии обновляется вручную по правилам выше.

### Что делать с историей 2.x
- Отдельная поддержка/заморозка для 2.x не ведётся.
- Если в репозитории остаются ветки/теги `v2*`, их можно сохранить как архивные. Новые коммиты туда не добавляются.
