# Короткая инструкция: общая сетевая БД (SQLite)

## Что потребуется
- Общая сетевая папка (SMB/Windows-шара) с правами чтение/запись для всех пользователей
- Не использовать облачные папки (OneDrive/Dropbox/Google Drive) — они ломают файловые блокировки SQLite

## Настройка (однократно)
1. На сервере/ПК-«хосте» создайте папку, например: `\\SERVER\SdelkaDB` (или смонтируйте как диск `Z:\SdelkaDB`)
2. Запустите приложение на одном из ПК → вкладка «Настройки»
3. В блоке «Настройки базы данных»:
   - Поле «Путь к файлу БД (.db)»: укажите `\\SERVER\SdelkaDB\base_sdelka_rmz.db` (или `Z:\SdelkaDB\base_sdelka_rmz.db`)
   - Отметьте «Включить WAL» (рекомендуется)
   - «Таймаут ожидания блокировок (мс)»: 10000–30000
   - Нажмите «Применить» и перезапустите приложение
   - Файл `base_sdelka_rmz.db` будет создан автоматически

## Подключение остальных ПК
1. На каждом ПК откройте «Настройки»
2. Укажите точно такой же путь к БД (например, `\\SERVER\SdelkaDB\base_sdelka_rmz.db`)
3. Нажмите «Применить» и перезапустите приложение

Все пользователи теперь работают с одной БД одновременно.

## Важно
- В папке БД помимо `base_sdelka_rmz.db` появятся файлы `base_sdelka_rmz.db-wal` и `base_sdelka_rmz.db-shm` — это нормально. Дайте права RW на все три файла
- Для резервного копирования используйте функцию «Сохранить копию базы…» в «Настройках» (встроенный бэкап безопасен при WAL)
- Если видите «database is locked»:
  - Увеличьте таймаут (например, до 30000 мс)
  - Проверьте права доступа на шару и что антивирус/backup-софты не блокируют файлы
  - Убедитесь, что все клиенты указывают один и тот же путь к БД
